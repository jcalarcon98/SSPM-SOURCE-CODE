{
  "modelVersion" : "2.0",
  "previousArtifactVersion" : "1.11.62",
  "id" : "03CalificarFichaForm",
  "name" : "03CalificarFichaForm",
  "lastUpdate" : 1611890204605,
  "rows" : [
    [
      {
        "type" : "container",
        "dimension" : {
          "xs" : 12
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          },
          "repeatedCollection" : {
            "type" : "variable",
            "value" : ""
          }
        },
        "reference" : "bbb62aa6-d290-4ac1-afeb-c03e435bf08f",
        "hasValidationError" : false,
        "id" : "pbContainer",
        "rows" : [
          [
            {
              "type" : "component",
              "dimension" : {
                "xs" : 6
              },
              "propertyValues" : {
                "cssClasses" : {
                  "type" : "constant",
                  "value" : ""
                },
                "hidden" : {
                  "type" : "constant",
                  "value" : false
                },
                "srcType" : {
                  "type" : "constant",
                  "value" : "Asset"
                },
                "url" : {
                  "type" : "constant"
                },
                "assetName" : {
                  "type" : "constant",
                  "value" : "unlLogo.png"
                },
                "alt" : {
                  "type" : "interpolation",
                  "value" : "Universidad Nacional de Loja"
                }
              },
              "reference" : "3c17fae8-0c1f-44f4-b935-bc503f119108",
              "hasValidationError" : false,
              "id" : "pbImage"
            },
            {
              "type" : "component",
              "dimension" : {
                "xs" : 6
              },
              "propertyValues" : {
                "hidden" : {
                  "type" : "constant",
                  "value" : false
                },
                "level" : {
                  "type" : "constant",
                  "value" : "Level 2"
                },
                "cssClasses" : {
                  "type" : "constant",
                  "value" : ""
                },
                "text" : {
                  "type" : "interpolation",
                  "value" : "<b>Seguimiento al sílabo y Plan de Mejoras</b>"
                },
                "alignment" : {
                  "type" : "constant",
                  "value" : "center"
                },
                "dimension" : {
                  "type" : "constant",
                  "value" : 12
                }
              },
              "reference" : "af710ae9-6167-4d26-b37d-ac96c67df376",
              "hasValidationError" : false,
              "id" : "pbTitle",
              "description" : ""
            }
          ]
        ]
      }
    ],
    [
      {
        "type" : "formContainer",
        "dimension" : {
          "xs" : 12
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : false
          }
        },
        "reference" : "2d78f592-ac46-459f-be3a-d3365f0abc83",
        "hasValidationError" : false,
        "id" : "pbFormContainer",
        "container" : {
          "type" : "container",
          "dimension" : {
            "xs" : 12
          },
          "propertyValues" : { },
          "reference" : "8ff2e855-6dae-40fd-8f40-81ca38c8a3a0",
          "hasValidationError" : false,
          "id" : "pbContainer",
          "rows" : [
            [
              {
                "type" : "component",
                "dimension" : {
                  "xs" : 12
                },
                "propertyValues" : {
                  "hidden" : {
                    "type" : "constant",
                    "value" : false
                  },
                  "level" : {
                    "type" : "constant",
                    "value" : "Level 4"
                  },
                  "cssClasses" : {
                    "type" : "constant",
                    "value" : ""
                  },
                  "text" : {
                    "type" : "interpolation",
                    "value" : "<b>Ficha de Seguimiento al Sílabo \"{{actualStudent.denomination}}\"</b>"
                  },
                  "alignment" : {
                    "type" : "constant",
                    "value" : "left"
                  },
                  "dimension" : {
                    "type" : "constant",
                    "value" : 12
                  }
                },
                "reference" : "d30380c1-940b-4af9-9228-9d0b035f3ad4",
                "hasValidationError" : false,
                "id" : "pbTitle",
                "description" : ""
              }
            ],
            [
              {
                "type" : "tabsContainer",
                "dimension" : {
                  "xs" : 12
                },
                "propertyValues" : {
                  "cssClasses" : {
                    "type" : "constant",
                    "value" : ""
                  },
                  "hidden" : {
                    "type" : "constant",
                    "value" : false
                  },
                  "vertical" : {
                    "type" : "constant",
                    "value" : false
                  },
                  "type" : {
                    "type" : "constant",
                    "value" : "tabs"
                  }
                },
                "reference" : "83c3e2fc-3b1c-4ef1-9f84-25220f9f05fc",
                "hasValidationError" : false,
                "id" : "pbTabsContainer",
                "tabList" : [
                  {
                    "type" : "tabContainer",
                    "dimension" : {
                      "xs" : 12
                    },
                    "propertyValues" : {
                      "cssClasses" : {
                        "type" : "constant",
                        "value" : ""
                      },
                      "hidden" : {
                        "type" : "constant",
                        "value" : false
                      },
                      "disabled" : {
                        "type" : "constant",
                        "value" : false
                      },
                      "title" : {
                        "type" : "interpolation",
                        "value" : "Evaluación de Ficha"
                      }
                    },
                    "reference" : "73349214-07c1-493f-87dc-994750405c21",
                    "hasValidationError" : false,
                    "id" : "pbTabContainer",
                    "container" : {
                      "type" : "container",
                      "dimension" : {
                        "xs" : 12
                      },
                      "propertyValues" : { },
                      "reference" : "3d158ff5-b60a-467a-a120-f0f9a75372b7",
                      "hasValidationError" : false,
                      "id" : "pbContainer",
                      "rows" : [
                        [
                          {
                            "type" : "component",
                            "dimension" : {
                              "xs" : 7
                            },
                            "propertyValues" : {
                              "cssClasses" : {
                                "type" : "constant",
                                "value" : ""
                              },
                              "hidden" : {
                                "type" : "constant",
                                "value" : false
                              },
                              "text" : {
                                "type" : "interpolation",
                                "value" : "Indicadores de Desarrollo del Sílabo"
                              },
                              "level" : {
                                "type" : "constant",
                                "value" : "Level 4"
                              },
                              "alignment" : {
                                "type" : "constant",
                                "value" : "left"
                              }
                            },
                            "reference" : "faa72698-a7de-4806-bcd3-36cd16d896f0",
                            "hasValidationError" : false,
                            "id" : "pbTitle"
                          },
                          {
                            "type" : "component",
                            "dimension" : {
                              "xs" : 5
                            },
                            "propertyValues" : {
                              "cssClasses" : {
                                "type" : "constant",
                                "value" : ""
                              },
                              "hidden" : {
                                "type" : "constant",
                                "value" : false
                              },
                              "text" : {
                                "type" : "interpolation",
                                "value" : "Alternativas"
                              },
                              "level" : {
                                "type" : "constant",
                                "value" : "Level 4"
                              },
                              "alignment" : {
                                "type" : "constant",
                                "value" : "left"
                              }
                            },
                            "reference" : "e2d8ddc3-9acc-4ff1-b4a0-5cec3493f3bd",
                            "hasValidationError" : false,
                            "id" : "pbTitle"
                          }
                        ],
                        [
                          {
                            "type" : "container",
                            "dimension" : {
                              "xs" : 12
                            },
                            "propertyValues" : {
                              "cssClasses" : {
                                "type" : "constant",
                                "value" : ""
                              },
                              "hidden" : {
                                "type" : "constant",
                                "value" : false
                              },
                              "repeatedCollection" : {
                                "type" : "variable",
                                "value" : "questions"
                              }
                            },
                            "reference" : "584d5e42-dfb7-464e-a6f0-2dbcd697e618",
                            "hasValidationError" : false,
                            "id" : "pbContainer",
                            "rows" : [
                              [
                                {
                                  "type" : "component",
                                  "dimension" : {
                                    "xs" : 7
                                  },
                                  "propertyValues" : {
                                    "cssClasses" : {
                                      "type" : "constant",
                                      "value" : ""
                                    },
                                    "hidden" : {
                                      "type" : "constant",
                                      "value" : false
                                    },
                                    "labelHidden" : {
                                      "type" : "constant",
                                      "value" : true
                                    },
                                    "label" : {
                                      "type" : "interpolation",
                                      "value" : "Default label"
                                    },
                                    "labelPosition" : {
                                      "type" : "constant",
                                      "value" : "top"
                                    },
                                    "labelWidth" : {
                                      "type" : "constant",
                                      "value" : 4
                                    },
                                    "allowHTML" : {
                                      "type" : "constant",
                                      "value" : true
                                    },
                                    "text" : {
                                      "type" : "interpolation",
                                      "value" : "<b>{{questions.indexOf($item) + 1}}.</b> {{$item.description}}"
                                    },
                                    "alignment" : {
                                      "type" : "constant",
                                      "value" : "left"
                                    }
                                  },
                                  "reference" : "a4de4fda-a140-45b8-acb3-aa26ee7726d6",
                                  "hasValidationError" : false,
                                  "id" : "pbText"
                                },
                                {
                                  "type" : "component",
                                  "dimension" : {
                                    "xs" : 5
                                  },
                                  "propertyValues" : {
                                    "cssClasses" : {
                                      "type" : "constant",
                                      "value" : ""
                                    },
                                    "hidden" : {
                                      "type" : "constant",
                                      "value" : false
                                    },
                                    "disabled" : {
                                      "type" : "constant",
                                      "value" : false
                                    },
                                    "required" : {
                                      "type" : "constant",
                                      "value" : true
                                    },
                                    "labelHidden" : {
                                      "type" : "constant",
                                      "value" : false
                                    },
                                    "label" : {
                                      "type" : "interpolation",
                                      "value" : ""
                                    },
                                    "labelPosition" : {
                                      "type" : "constant",
                                      "value" : "top"
                                    },
                                    "labelWidth" : {
                                      "type" : "constant",
                                      "value" : 4
                                    },
                                    "inline" : {
                                      "type" : "constant",
                                      "value" : true
                                    },
                                    "availableValues" : {
                                      "type" : "expression",
                                      "value" : "tracking_alternatives"
                                    },
                                    "displayedKey" : {
                                      "type" : "constant",
                                      "value" : "description"
                                    },
                                    "returnedKey" : {
                                      "type" : "constant",
                                      "value" : "persistenceId"
                                    },
                                    "selectedValue" : {
                                      "type" : "variable",
                                      "value" : "answers.alternative[questions.indexOf($item)]"
                                    }
                                  },
                                  "reference" : "d9025512-3353-4553-b9ae-ecbedf4e7ada",
                                  "hasValidationError" : false,
                                  "id" : "pbRadioButtons"
                                }
                              ],
                              [
                                {
                                  "type" : "component",
                                  "dimension" : {
                                    "xs" : 12
                                  },
                                  "propertyValues" : {
                                    "cssClasses" : {
                                      "type" : "constant",
                                      "value" : ""
                                    },
                                    "hidden" : {
                                      "type" : "constant",
                                      "value" : false
                                    }
                                  },
                                  "reference" : "559f0af8-97c2-487a-8fd0-20ffb0118e58",
                                  "hasValidationError" : false,
                                  "id" : "customSeparator"
                                }
                              ]
                            ]
                          }
                        ]
                      ]
                    }
                  },
                  {
                    "type" : "tabContainer",
                    "dimension" : {
                      "xs" : 12
                    },
                    "propertyValues" : {
                      "cssClasses" : {
                        "type" : "constant",
                        "value" : ""
                      },
                      "hidden" : {
                        "type" : "constant",
                        "value" : false
                      },
                      "disabled" : {
                        "type" : "constant",
                        "value" : false
                      },
                      "title" : {
                        "type" : "interpolation",
                        "value" : "Finalizar"
                      }
                    },
                    "reference" : "5720fa43-b473-491b-9fb8-bb3017499359",
                    "hasValidationError" : false,
                    "id" : "pbTabContainer",
                    "container" : {
                      "type" : "container",
                      "dimension" : {
                        "xs" : 12
                      },
                      "propertyValues" : { },
                      "reference" : "f2480da2-284c-4937-84c4-1fa550e17e71",
                      "hasValidationError" : false,
                      "id" : "pbContainer",
                      "rows" : [
                        [
                          {
                            "type" : "container",
                            "dimension" : {
                              "xs" : 7
                            },
                            "propertyValues" : {
                              "cssClasses" : {
                                "type" : "constant",
                                "value" : ""
                              },
                              "hidden" : {
                                "type" : "constant",
                                "value" : false
                              },
                              "repeatedCollection" : {
                                "type" : "variable",
                                "value" : ""
                              }
                            },
                            "reference" : "18d8caef-a390-46ba-b728-d27329dab879",
                            "hasValidationError" : false,
                            "id" : "pbContainer",
                            "rows" : [
                              [
                                {
                                  "type" : "component",
                                  "dimension" : {
                                    "xs" : 12
                                  },
                                  "propertyValues" : {
                                    "cssClasses" : {
                                      "type" : "constant",
                                      "value" : ""
                                    },
                                    "hidden" : {
                                      "type" : "constant",
                                      "value" : false
                                    },
                                    "text" : {
                                      "type" : "interpolation",
                                      "value" : "Resultados"
                                    },
                                    "level" : {
                                      "type" : "constant",
                                      "value" : "Level 4"
                                    },
                                    "alignment" : {
                                      "type" : "constant",
                                      "value" : "left"
                                    }
                                  },
                                  "reference" : "38fc9109-32db-447e-9f37-ff24b19c8ba8",
                                  "hasValidationError" : false,
                                  "id" : "pbTitle"
                                }
                              ]
                            ]
                          }
                        ],
                        [
                          {
                            "type" : "container",
                            "dimension" : {
                              "xs" : 12
                            },
                            "propertyValues" : {
                              "cssClasses" : {
                                "type" : "constant",
                                "value" : ""
                              },
                              "hidden" : {
                                "type" : "constant",
                                "value" : false
                              },
                              "repeatedCollection" : {
                                "type" : "variable",
                                "value" : "questions"
                              }
                            },
                            "reference" : "08d7b489-94e6-4374-806b-7fcd554bbb86",
                            "hasValidationError" : false,
                            "id" : "pbContainer",
                            "rows" : [
                              [
                                {
                                  "type" : "component",
                                  "dimension" : {
                                    "xs" : 7
                                  },
                                  "propertyValues" : {
                                    "cssClasses" : {
                                      "type" : "constant",
                                      "value" : ""
                                    },
                                    "hidden" : {
                                      "type" : "constant",
                                      "value" : false
                                    },
                                    "labelHidden" : {
                                      "type" : "constant",
                                      "value" : true
                                    },
                                    "label" : {
                                      "type" : "interpolation",
                                      "value" : "Default label"
                                    },
                                    "labelPosition" : {
                                      "type" : "constant",
                                      "value" : "top"
                                    },
                                    "labelWidth" : {
                                      "type" : "constant",
                                      "value" : 4
                                    },
                                    "allowHTML" : {
                                      "type" : "constant",
                                      "value" : true
                                    },
                                    "text" : {
                                      "type" : "interpolation",
                                      "value" : "<b>{{questions.indexOf($item) + 1}}.</b> {{$item.description}}"
                                    },
                                    "alignment" : {
                                      "type" : "constant",
                                      "value" : "left"
                                    }
                                  },
                                  "reference" : "f7022299-bd72-4f50-873e-ed02e1c3963c",
                                  "hasValidationError" : false,
                                  "id" : "pbText"
                                }
                              ]
                            ]
                          }
                        ],
                        [
                          {
                            "type" : "component",
                            "dimension" : {
                              "xs" : 12
                            },
                            "propertyValues" : {
                              "removeItem" : {
                                "type" : "variable"
                              },
                              "hidden" : {
                                "type" : "constant",
                                "value" : false
                              },
                              "cssClasses" : {
                                "type" : "constant",
                                "value" : ""
                              },
                              "buttonStyle" : {
                                "type" : "constant",
                                "value" : "success"
                              },
                              "label" : {
                                "type" : "interpolation",
                                "value" : "Finalizar"
                              },
                              "dataToSend" : {
                                "type" : "expression",
                                "value" : "formOutput"
                              },
                              "dataFromError" : {
                                "type" : "variable",
                                "value" : "formOutput._submitError"
                              },
                              "labelHidden" : {
                                "type" : "constant",
                                "value" : false
                              },
                              "collectionPosition" : {
                                "type" : "constant"
                              },
                              "targetUrlOnSuccess" : {
                                "type" : "interpolation",
                                "value" : "/bonita"
                              },
                              "action" : {
                                "type" : "constant",
                                "value" : "Submit task"
                              },
                              "collectionToModify" : {
                                "type" : "variable"
                              },
                              "valueToAdd" : {
                                "type" : "expression"
                              },
                              "disabled" : {
                                "type" : "expression",
                                "value" : "$form.$invalid"
                              },
                              "alignment" : {
                                "type" : "constant",
                                "value" : "center"
                              },
                              "dimension" : {
                                "type" : "constant",
                                "value" : 12
                              },
                              "assign" : {
                                "type" : "constant",
                                "value" : false
                              },
                              "url" : {
                                "type" : "interpolation"
                              },
                              "responseStatusCode" : {
                                "type" : "variable",
                                "value" : ""
                              },
                              "dataFromSuccess" : {
                                "type" : "variable",
                                "value" : ""
                              },
                              "closeOnSuccess" : {
                                "type" : "constant",
                                "value" : false
                              },
                              "modalId" : {
                                "type" : "constant",
                                "value" : ""
                              }
                            },
                            "reference" : "10c027bf-5842-4ff0-b4de-8c5bc2effdd1",
                            "hasValidationError" : false,
                            "id" : "pbButton",
                            "description" : ""
                          }
                        ]
                      ]
                    }
                  }
                ]
              }
            ],
            [
              {
                "type" : "component",
                "dimension" : {
                  "xs" : 12
                },
                "propertyValues" : {
                  "allowHTML" : {
                    "type" : "constant",
                    "value" : true
                  },
                  "allowHtml" : {
                    "type" : "constant",
                    "value" : true
                  },
                  "labelHidden" : {
                    "type" : "constant",
                    "value" : true
                  },
                  "hidden" : {
                    "type" : "expression",
                    "value" : "!formOutput._submitError.message"
                  },
                  "cssClasses" : {
                    "type" : "constant",
                    "value" : "alert alert-danger col-lg-6 col-lg-offset-3"
                  },
                  "label" : {
                    "type" : "interpolation"
                  },
                  "text" : {
                    "type" : "interpolation",
                    "value" : "<strong>Debug message</strong>\n<br/>\n{{formOutput._submitError.message}}\n{{submit_errors_list}}"
                  },
                  "alignment" : {
                    "type" : "constant",
                    "value" : "left"
                  },
                  "dimension" : {
                    "type" : "constant",
                    "value" : 12
                  },
                  "labelPosition" : {
                    "type" : "constant",
                    "value" : "top"
                  },
                  "labelWidth" : {
                    "type" : "constant",
                    "value" : 4
                  }
                },
                "reference" : "57a6d583-1526-47a1-9a22-4c3e304710d5",
                "hasValidationError" : false,
                "id" : "pbText",
                "description" : ""
              }
            ]
          ]
        }
      }
    ]
  ],
  "assets" : [
    {
      "id" : "ce6e5b8d-469d-48da-9690-79c06c117374",
      "name" : "style.css",
      "type" : "css",
      "order" : 0,
      "external" : false
    },
    {
      "id" : "39e3575f-08e7-4779-bcf8-e6ef0731cb7d",
      "name" : "unlLogo.png",
      "type" : "img",
      "order" : 1,
      "external" : false
    }
  ],
  "inactiveAssets" : [ ],
  "variables" : {
    "tracking_stages" : {
      "type" : "url",
      "value" : [
        "{{tracking|lazyRef:'stages'}}"
      ],
      "exposed" : false
    },
    "task" : {
      "type" : "url",
      "value" : [
        "../API/bpm/userTask/{{taskId}}"
      ],
      "exposed" : false
    },
    "formInput" : {
      "type" : "json",
      "value" : [
        "{",
        "  \"syllabusId\" : \"\",",
        "  \"actualSheetInput\" : {",
        "    \"answers\" : [ ]",
        "  }",
        "}"
      ],
      "exposed" : false
    },
    "submit_errors_list" : {
      "type" : "expression",
      "value" : [
        "if($data.formOutput && $data.formOutput._submitError && $data.formOutput._submitError.explanations){",
        "\tconst liElements = $data.formOutput._submitError.explanations",
        "\t\t.filter(cause => cause !== null)",
        "\t\t.map(cause => \"<li>\" + cause + \"</li>\")",
        "\t\t.join('');",
        "\tif(liElements){",
        "\t\treturn \"<ul>\" + liElements + \"</ul>\";",
        "\t}",
        "}"
      ],
      "exposed" : false
    },
    "formOutput" : {
      "type" : "expression",
      "value" : [
        "return {",
        "\tactualSheetInput: $data.sheet,",
        "\tsyllabusId: $data.actualStudent.syllabusId,",
        "\tuserId: $data.task.assigned_id",
        "}"
      ],
      "exposed" : false
    },
    "context" : {
      "type" : "url",
      "value" : [
        "../API/bpm/userTask/{{taskId}}/context"
      ],
      "exposed" : false
    },
    "tracking" : {
      "type" : "url",
      "value" : [
        "../{{context.tracking_ref.link}}"
      ],
      "exposed" : false
    },
    "taskId" : {
      "type" : "urlparameter",
      "value" : [
        "id"
      ],
      "exposed" : false
    },
    "tracking_alternatives" : {
      "type" : "url",
      "value" : [
        "{{tracking|lazyRef:'alternatives'}}"
      ],
      "exposed" : false
    },
    "test" : {
      "type" : "expression",
      "value" : [
        ""
      ],
      "exposed" : false
    },
    "currentStage" : {
      "type" : "url",
      "value" : [
        "../{{context.currentStage_ref.link}}"
      ],
      "exposed" : false
    },
    "questions" : {
      "type" : "url",
      "value" : [
        "..{{currentStage.links[1].href}}"
      ],
      "exposed" : false
    },
    "studentsList" : {
      "type" : "expression",
      "value" : [
        "const list = JSON.parse($data.syllabus.value);",
        "return list;"
      ],
      "exposed" : false
    },
    "actualStudent" : {
      "type" : "json",
      "value" : [
        "{",
        "    \"denomination\": \"\",",
        "    \"email\": \"\",",
        "    \"studentId\": -1,",
        "    \"syllabusId\": -1",
        "}"
      ],
      "exposed" : false
    },
    "answers" : {
      "type" : "json",
      "value" : [
        "{",
        "    \"question\": [],",
        "    \"alternative\": []",
        "}"
      ],
      "exposed" : false
    },
    "syllabus" : {
      "type" : "url",
      "value" : [
        "../API/bpm/caseVariable/{{task.caseId}}/studentSyllabus"
      ],
      "exposed" : false
    },
    "student" : {
      "type" : "expression",
      "value" : [
        "$data.studentsList.forEach(student => {",
        "    if (student.studentId.toString() === $data.task.assigned_id){",
        "        $data.actualStudent.denomination = student.denomination;",
        "        $data.actualStudent.email = student.email;",
        "        $data.actualStudent.studentId = student.studentId;",
        "        $data.actualStudent.syllabusId = student.syllabusId;",
        "        return student;",
        "    }",
        "});"
      ],
      "exposed" : false
    },
    "setQuestions" : {
      "type" : "expression",
      "value" : [
        "for (var i = 0; i < $data.questions.length; i++) {",
        "    $data.answers.question[i] = $data.questions[i].persistenceId;",
        "}"
      ],
      "exposed" : false
    },
    "sheet" : {
      "type" : "json",
      "value" : [
        "{ ",
        "    \"answers\" : [] ",
        "}"
      ],
      "exposed" : false
    },
    "setSheet" : {
      "type" : "expression",
      "value" : [
        "const answers = [];",
        "",
        "for (var i = 0; i < $data.questions.length; i++) {",
        "    ",
        "    let answer = {persistenceId_string: \"\", question: $data.answers.question[i], alternative: $data.answers.alternative[i]};",
        "    ",
        "    answers.push(answer);",
        "    ",
        "}",
        "",
        "$data.sheet.answers = answers;"
      ],
      "exposed" : false
    },
    "firstTime" : {
      "type" : "expression",
      "value" : [
        "return true;"
      ],
      "exposed" : false
    }
  },
  "hasValidationError" : false,
  "uuid" : "ec39ea6f-fda5-4019-b128-54a84f1a79c1",
  "type" : "form",
  "description" : "Page generated with Bonita UI designer"
}